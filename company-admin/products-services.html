<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Products & Services - Bizoforce Platform</title>
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="sidebar-logo">
            <div class="sidebar-logo-img">
                <div class="sidebar-logo-icon">B</div>
                <div class="sidebar-logo-text">Bizoforce</div>
            </div>
        </div>
        <nav class="sidebar-menu">
            <!-- Menu generated by JavaScript -->
        </nav>
    </aside>

    <!-- Top Bar -->
    <header class="top-bar">
        <div class="search-bar">
            <svg class="search-icon" width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
            <input type="text" placeholder="Search products and services..." id="searchInput">
        </div>
        <div class="user-section">
            <div class="wallet">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"></path>
                </svg>
                <span>$12,450</span>
            </div>
            <div class="notifications">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"></path>
                </svg>
                <span class="badge">8</span>
            </div>
            <div class="user-avatar">
                <img src="https://i.pravatar.cc/150?img=1" alt="User">
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-container">
        <div class="page-header" style="background: linear-gradient(135deg, rgba(37, 99, 235, 0.05), rgba(249, 115, 22, 0.05)); padding: 32px; border-radius: 16px; margin-bottom: 32px;">
            <div>
                <h1 class="gradient-text" style="font-size: 36px; margin-bottom: 8px;">Products & Services Marketplace</h1>
                <p style="font-size: 16px; opacity: 0.8;">Browse and manage vendor offerings</p>
            </div>
            <button class="btn btn-primary" style="display: flex; align-items: center; gap: 8px;" onclick="openModal('addProductModal')">
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                </svg>
                Add Product/Service
            </button>
        </div>

        <!-- Stats Cards -->
        <div class="stats-cards-row">
            <div class="stat-card-colored blue">
                <div class="stat-card-content">
                    <h3>Total Listings</h3>
                    <p class="stat-number">1,248</p>
                    <p class="stat-change positive">‚Üë 23% from last month</p>
                </div>
                <div class="stat-card-icon stats-icon" style="font-size: 40px;">üì¶</div>
            </div>
            <div class="stat-card-colored green">
                <div class="stat-card-content">
                    <h3>Active Vendors</h3>
                    <p class="stat-number">342</p>
                    <p class="stat-change positive">‚Üë 12% from last month</p>
                </div>
                <div class="stat-card-icon">
                    <svg width="40" height="40" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V9.99h7V3.66l8 3.99v5.34h-8z"/>
                    </svg>
                </div>
            </div>
            <div class="stat-card-colored orange">
                <div class="stat-card-content">
                    <h3>Pending Approval</h3>
                    <p class="stat-number">87</p>
                    <p class="stat-change neutral">Awaiting review</p>
                </div>
                <div class="stat-card-icon">
                    <svg width="40" height="40" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
            </div>
            <div class="stat-card-colored purple">
                <div class="stat-card-content">
                    <h3>Total Revenue</h3>
                    <p class="stat-number">$542,890</p>
                    <p class="stat-change positive">‚Üë 18% from last month</p>
                </div>
                <div class="stat-card-icon">
                    <svg width="40" height="40" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"/>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Filters -->
        <div class="card">
            <div class="card-header">
                <h2>Browse Marketplace</h2>
                <div class="filter-controls">
                    <select class="form-select" id="categoryFilter">
                        <option value="">All Categories</option>
                        <option value="software">Software</option>
                        <option value="consulting">Consulting</option>
                        <option value="design">Design</option>
                        <option value="marketing">Marketing</option>
                        <option value="hr">HR Services</option>
                        <option value="finance">Finance</option>
                    </select>
                    <select class="form-select" id="statusFilter">
                        <option value="">All Statuses</option>
                        <option value="active">Active</option>
                        <option value="pending">Pending</option>
                        <option value="inactive">Inactive</option>
                    </select>
                    <select class="form-select" id="sortFilter">
                        <option value="newest">Newest First</option>
                        <option value="popular">Most Popular</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Product Grid -->
        <div class="product-grid">
            <!-- Product Card 1 -->
            <div class="product-card">
                <div class="product-image">
                    <img src="https://via.placeholder.com/300x200/2563eb/ffffff?text=HR+Software" alt="HR Management Software">
                    <span class="product-badge active">Active</span>
                </div>
                <div class="product-content">
                    <div class="product-category">Software</div>
                    <h3 class="product-title">HR Management Suite</h3>
                    <p class="product-description">Complete HR solution with payroll, attendance, and performance management</p>
                    <div class="product-vendor">
                        <img src="https://via.placeholder.com/32" alt="Vendor">
                        <span>TechVendor Inc</span>
                    </div>
                    <div class="product-footer">
                        <div class="product-price">$299/month</div>
                        <div class="product-rating">
                            ‚≠ê 4.8 (125)
                        </div>
                    </div>
                    <div class="product-actions">
                        <button class="btn btn-primary btn-sm" onclick="viewProduct('1')">View Details</button>
                        <button class="btn btn-secondary btn-sm" onclick="contactVendor('1')">Contact</button>
                    </div>
                </div>
            </div>

            <!-- Product Card 2 -->
            <div class="product-card">
                <div class="product-image">
                    <img src="https://via.placeholder.com/300x200/10b981/ffffff?text=Consulting" alt="Business Consulting">
                    <span class="product-badge active">Active</span>
                </div>
                <div class="product-content">
                    <div class="product-category">Consulting</div>
                    <h3 class="product-title">Business Strategy Consulting</h3>
                    <p class="product-description">Expert guidance for business growth and transformation strategies</p>
                    <div class="product-vendor">
                        <img src="https://via.placeholder.com/32" alt="Vendor">
                        <span>ConsultPro</span>
                    </div>
                    <div class="product-footer">
                        <div class="product-price">$150/hour</div>
                        <div class="product-rating">
                            ‚≠ê 4.9 (87)
                        </div>
                    </div>
                    <div class="product-actions">
                        <button class="btn btn-primary btn-sm" onclick="viewProduct('2')">View Details</button>
                        <button class="btn btn-secondary btn-sm" onclick="contactVendor('2')">Contact</button>
                    </div>
                </div>
            </div>

            <!-- Product Card 3 -->
            <div class="product-card">
                <div class="product-image">
                    <img src="https://via.placeholder.com/300x200/f97316/ffffff?text=Design" alt="Design Services">
                    <span class="product-badge active">Active</span>
                </div>
                <div class="product-content">
                    <div class="product-category">Design</div>
                    <h3 class="product-title">UI/UX Design Services</h3>
                    <p class="product-description">Professional design services for web and mobile applications</p>
                    <div class="product-vendor">
                        <img src="https://via.placeholder.com/32" alt="Vendor">
                        <span>DesignLab Studio</span>
                    </div>
                    <div class="product-footer">
                        <div class="product-price">$2,500/project</div>
                        <div class="product-rating">
                            ‚≠ê 5.0 (156)
                        </div>
                    </div>
                    <div class="product-actions">
                        <button class="btn btn-primary btn-sm" onclick="viewProduct('3')">View Details</button>
                        <button class="btn btn-secondary btn-sm" onclick="contactVendor('3')">Contact</button>
                    </div>
                </div>
            </div>

            <!-- Product Card 4 -->
            <div class="product-card">
                <div class="product-image">
                    <img src="https://via.placeholder.com/300x200/8b5cf6/ffffff?text=Marketing" alt="Marketing Platform">
                    <span class="product-badge pending">Pending</span>
                </div>
                <div class="product-content">
                    <div class="product-category">Marketing</div>
                    <h3 class="product-title">Digital Marketing Platform</h3>
                    <p class="product-description">All-in-one marketing automation and analytics platform</p>
                    <div class="product-vendor">
                        <img src="https://via.placeholder.com/32" alt="Vendor">
                        <span>MarketBoost</span>
                    </div>
                    <div class="product-footer">
                        <div class="product-price">$199/month</div>
                        <div class="product-rating">
                            ‚≠ê 4.6 (93)
                        </div>
                    </div>
                    <div class="product-actions">
                        <button class="btn btn-primary btn-sm" onclick="viewProduct('4')">View Details</button>
                        <button class="btn btn-secondary btn-sm" onclick="contactVendor('4')">Contact</button>
                    </div>
                </div>
            </div>

            <!-- Product Card 5 -->
            <div class="product-card">
                <div class="product-image">
                    <img src="https://via.placeholder.com/300x200/ec4899/ffffff?text=Recruitment" alt="Recruitment Services">
                    <span class="product-badge active">Active</span>
                </div>
                <div class="product-content">
                    <div class="product-category">HR Services</div>
                    <h3 class="product-title">Executive Recruitment</h3>
                    <p class="product-description">Premium recruitment services for C-level and senior positions</p>
                    <div class="product-vendor">
                        <img src="https://via.placeholder.com/32" alt="Vendor">
                        <span>TalentHunters</span>
                    </div>
                    <div class="product-footer">
                        <div class="product-price">$5,000/placement</div>
                        <div class="product-rating">
                            ‚≠ê 4.7 (64)
                        </div>
                    </div>
                    <div class="product-actions">
                        <button class="btn btn-primary btn-sm" onclick="viewProduct('5')">View Details</button>
                        <button class="btn btn-secondary btn-sm" onclick="contactVendor('5')">Contact</button>
                    </div>
                </div>
            </div>

            <!-- Product Card 6 -->
            <div class="product-card">
                <div class="product-image">
                    <img src="https://via.placeholder.com/300x200/14b8a6/ffffff?text=Finance" alt="Financial Software">
                    <span class="product-badge active">Active</span>
                </div>
                <div class="product-content">
                    <div class="product-category">Finance</div>
                    <h3 class="product-title">Accounting & Finance Suite</h3>
                    <p class="product-description">Comprehensive financial management and reporting solution</p>
                    <div class="product-vendor">
                        <img src="https://via.placeholder.com/32" alt="Vendor">
                        <span>FinanceHub</span>
                    </div>
                    <div class="product-footer">
                        <div class="product-price">$399/month</div>
                        <div class="product-rating">
                            ‚≠ê 4.9 (201)
                        </div>
                    </div>
                    <div class="product-actions">
                        <button class="btn btn-primary btn-sm" onclick="viewProduct('6')">View Details</button>
                        <button class="btn btn-secondary btn-sm" onclick="contactVendor('6')">Contact</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Add Product Modal -->
    <div class="modal" id="addProductModal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2>Add Product/Service</h2>
                <button class="modal-close" onclick="closeModal('addProductModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addProductForm">
                    <div class="form-group">
                        <label for="productName">Product/Service Name *</label>
                        <input type="text" id="productName" class="form-input" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productType">Product Type *</label>
                            <select id="productType" class="form-select" required onchange="toggleProductFields()">
                                <option value="">Select Type</option>
                                <option value="digital">Digital Product</option>
                                <option value="downloadable">Downloadable Product</option>
                                <option value="service">Service</option>
                            </select>
                            <small class="form-helper">Note: Physical products with delivery are not supported</small>
                        </div>
                        <div class="form-group">
                            <label for="productCategory">Category *</label>
                            <select id="productCategory" class="form-select" required>
                                <option value="">Select Category</option>
                                <option value="software">Software</option>
                                <option value="ebooks">E-books</option>
                                <option value="courses">Online Courses</option>
                                <option value="templates">Templates</option>
                                <option value="plugins">Plugins & Extensions</option>
                                <option value="consulting">Consulting</option>
                                <option value="design">Design Services</option>
                                <option value="marketing">Marketing</option>
                                <option value="hr">HR Services</option>
                                <option value="finance">Finance</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="productDescription">Description *</label>
                        <textarea id="productDescription" class="form-textarea" rows="4" placeholder="Detailed description of your product/service..." required></textarea>
                    </div>
                    
                    <!-- Digital/Downloadable Product Fields -->
                    <div id="digitalProductFields" style="display: none;">
                        <div class="form-group">
                            <label for="downloadURL">Download URL *</label>
                            <input type="url" id="downloadURL" class="form-input" placeholder="https://example.com/download/file.zip">
                            <small class="form-helper">Direct link to the downloadable file</small>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fileType">File Type</label>
                                <select id="fileType" class="form-select">
                                    <option value="">Select File Type</option>
                                    <option value="zip">ZIP Archive</option>
                                    <option value="pdf">PDF Document</option>
                                    <option value="mp4">Video (MP4)</option>
                                    <option value="mp3">Audio (MP3)</option>
                                    <option value="exe">Executable (EXE)</option>
                                    <option value="dmg">Mac Package (DMG)</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="fileSize">File Size</label>
                                <input type="text" id="fileSize" class="form-input" placeholder="e.g., 45 MB">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="downloadLimit">Download Limit</label>
                            <input type="number" id="downloadLimit" class="form-input" placeholder="e.g., 5" min="1">
                            <small class="form-helper">Number of times customer can download (leave empty for unlimited)</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="licenseKey">License Key Required?</label>
                            <div class="form-checkbox-group">
                                <label class="form-checkbox">
                                    <input type="checkbox" id="requiresLicense">
                                    <span>This product requires a license key</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productPrice">Price *</label>
                            <input type="number" id="productPrice" class="form-input" placeholder="299" required min="0" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="pricingModel">Pricing Model *</label>
                            <select id="pricingModel" class="form-select" required>
                                <option value="one-time">One-time Payment</option>
                                <option value="monthly">Monthly Subscription</option>
                                <option value="yearly">Yearly Subscription</option>
                                <option value="hourly">Hourly Rate</option>
                                <option value="project">Per Project</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="productImage">Product Image *</label>
                        <input type="file" id="productImage" class="form-input" accept="image/*" required>
                        <small class="form-helper">Recommended size: 800x600px</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="productFeatures">Key Features (one per line)</label>
                        <textarea id="productFeatures" class="form-textarea" rows="3" placeholder="Feature 1&#10;Feature 2&#10;Feature 3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="productTags">Tags (comma-separated)</label>
                        <input type="text" id="productTags" class="form-input" placeholder="woocommerce, digital, ecommerce">
                    </div>
                    
                    <div class="form-group">
                        <label for="productStatus">Status</label>
                        <select id="productStatus" class="form-select">
                            <option value="pending">Pending Review</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    
                    <!-- Vendor Information (Auto-populated) -->
                    <div class="form-section-divider">
                        <h3>Vendor Information</h3>
                        <p class="form-section-note">Your company profile will be automatically created as a vendor</p>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Company Name</label>
                            <input type="text" class="form-input" id="vendorCompanyName" readonly>
                        </div>
                        <div class="form-group">
                            <label>Vendor Email</label>
                            <input type="email" class="form-input" id="vendorEmail" readonly>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addProductModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveProduct()">Publish Product</button>
            </div>
        </div>
    </div>

    <script src="../assets/js/dashboard.js"></script>
    <script>
        // Set user type for navigation
        localStorage.setItem('userType', 'company');
        
        // Initialize page
        generateNavigation('products-services');

        // Initialize vendor profile from company data
        function initializeVendorProfile() {
            // In real app, get from auth/API
            const companyProfile = JSON.parse(localStorage.getItem('companyProfile') || '{}');
            
            if (!companyProfile.name) {
                // Set default company data for demo
                companyProfile.name = 'TechCorp Inc';
                companyProfile.email = 'vendor@techcorp.com';
                companyProfile.phone = '+1 (555) 123-4567';
                companyProfile.website = 'https://techcorp.com';
                localStorage.setItem('companyProfile', JSON.stringify(companyProfile));
            }
            
            // Pre-fill vendor fields
            document.getElementById('vendorCompanyName').value = companyProfile.name || 'Your Company';
            document.getElementById('vendorEmail').value = companyProfile.email || '';
        }

        // Toggle digital product fields based on product type
        function toggleProductFields() {
            const productType = document.getElementById('productType').value;
            const digitalFields = document.getElementById('digitalProductFields');
            
            if (productType === 'digital' || productType === 'downloadable') {
                digitalFields.style.display = 'block';
                // Make download URL required for digital products
                document.getElementById('downloadURL').required = true;
            } else {
                digitalFields.style.display = 'none';
                document.getElementById('downloadURL').required = false;
            }
        }

        // Auto-create vendor profile when company posts product
        function autoCreateVendorProfile() {
            const vendors = JSON.parse(localStorage.getItem('vendors') || '[]');
            const companyProfile = JSON.parse(localStorage.getItem('companyProfile') || '{}');
            
            // Check if vendor already exists
            const existingVendor = vendors.find(v => v.companyId === companyProfile.id);
            
            if (!existingVendor) {
                const newVendor = {
                    id: `vendor_${Date.now()}`,
                    companyId: companyProfile.id || 'company_001',
                    companyName: companyProfile.name || 'TechCorp Inc',
                    email: companyProfile.email || 'vendor@techcorp.com',
                    phone: companyProfile.phone || '+1 (555) 123-4567',
                    website: companyProfile.website || '',
                    description: companyProfile.description || '',
                    logo: companyProfile.logo || 'https://via.placeholder.com/100',
                    status: 'active',
                    rating: 0,
                    totalProducts: 0,
                    totalSales: 0,
                    createdDate: new Date().toISOString().split('T')[0],
                    verified: true
                };
                
                vendors.push(newVendor);
                localStorage.setItem('vendors', JSON.stringify(vendors));
                
                console.log('Vendor profile auto-created:', newVendor);
                return newVendor;
            }
            
            return existingVendor;
        }

        // Save product function
        function saveProduct() {
            const form = document.getElementById('addProductForm');
            
            if (!form.checkValidity()) {
                showNotification('Please fill all required fields', 'error');
                form.reportValidity();
                return;
            }
            
            // Auto-create vendor profile first
            const vendor = autoCreateVendorProfile();
            
            // Get form values
            const productType = document.getElementById('productType').value;
            const productData = {
                id: `prod_${Date.now()}`,
                name: document.getElementById('productName').value,
                type: productType,
                category: document.getElementById('productCategory').value,
                description: document.getElementById('productDescription').value,
                price: parseFloat(document.getElementById('productPrice').value),
                pricingModel: document.getElementById('pricingModel').value,
                status: document.getElementById('productStatus').value,
                vendorId: vendor.id,
                vendorName: vendor.companyName,
                features: document.getElementById('productFeatures').value.split('\n').filter(f => f.trim()),
                tags: document.getElementById('productTags').value.split(',').map(t => t.trim()).filter(t => t),
                rating: 0,
                reviews: 0,
                createdDate: new Date().toISOString().split('T')[0],
                // Digital/downloadable specific fields
                isDigital: (productType === 'digital' || productType === 'downloadable'),
                downloadURL: productType === 'digital' || productType === 'downloadable' 
                    ? document.getElementById('downloadURL').value : null,
                fileType: document.getElementById('fileType').value,
                fileSize: document.getElementById('fileSize').value,
                downloadLimit: document.getElementById('downloadLimit').value || null,
                requiresLicense: document.getElementById('requiresLicense').checked
            };
            
            // Save product
            const products = JSON.parse(localStorage.getItem('products') || '[]');
            products.push(productData);
            localStorage.setItem('products', JSON.stringify(products));
            
            // Update vendor product count
            const vendors = JSON.parse(localStorage.getItem('vendors') || '[]');
            const vendorIndex = vendors.findIndex(v => v.id === vendor.id);
            if (vendorIndex !== -1) {
                vendors[vendorIndex].totalProducts = products.filter(p => p.vendorId === vendor.id).length;
                localStorage.setItem('vendors', JSON.stringify(vendors));
            }
            
            showNotification(`Product "${productData.name}" published successfully! Vendor profile auto-created.`, 'success');
            closeModal('addProductModal');
            form.reset();
            toggleProductFields(); // Reset field visibility
            
            // Reload page to show new product (in real app, just append to grid)
            setTimeout(() => {
                location.reload();
            }, 1500);
        }

        // Product management functions
        function viewProduct(id) {
            showNotification('Opening product details...', 'info');
            // Open product detail modal or navigate to detail page
        }

        function contactVendor(id) {
            showNotification('Opening contact form...', 'info');
            // Open contact modal
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const cards = document.querySelectorAll('.product-card');
            
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        });

        // Filter functionality
        document.getElementById('categoryFilter').addEventListener('change', filterProducts);
        document.getElementById('statusFilter').addEventListener('change', filterProducts);

        function filterProducts() {
            const categoryFilter = document.getElementById('categoryFilter').value.toLowerCase();
            const statusFilter = document.getElementById('statusFilter').value;
            const cards = document.querySelectorAll('.product-card');
            
            cards.forEach(card => {
                const category = card.querySelector('.product-category').textContent.toLowerCase();
                const statusBadge = card.querySelector('.product-badge');
                
                const categoryMatch = !categoryFilter || category.includes(categoryFilter);
                const statusMatch = !statusFilter || statusBadge.classList.contains(statusFilter);
                
                card.style.display = (categoryMatch && statusMatch) ? '' : 'none';
            });
        }

        // Sort functionality
        document.getElementById('sortFilter').addEventListener('change', (e) => {
            showNotification('Sorting products...', 'info');
            // Implement sorting logic
        });

        // Initialize vendor profile on modal open
        document.querySelector('[onclick*="addProductModal"]').addEventListener('click', () => {
            setTimeout(() => {
                initializeVendorProfile();
            }, 100);
        });

        // Initialize on page load
        initializeVendorProfile();
    </script>
</body>
</html>